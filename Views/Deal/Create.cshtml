@model CRM.Models.Deal
@{
    var promotions = ViewData["promotions"] as List<CRM.Models.Promotion>;
    var customers = ViewData["customers"] as List<CRM.Models.Customer>;
    Layout = null;
}
    <form>
        <input type="hidden" id="agent_id" value="1" />
        <input type="hidden" id="stage" value="@Model.stage" />
        <div class="form-group row">
            <label class="col-12 col-sm-3 col-form-label text-sm-right">Title</label>
            <div class="col-12 col-sm-8 col-lg-6">
                <input type="text" required="" name="title" id="title" class="form-control input" value="@Model.title">
            </div>
        </div>
        <div class="form-group row">
            <label class="col-12 col-sm-3 col-form-label text-sm-right">Description</label>
            <div class="col-12 col-sm-8 col-lg-6">
                <textarea required="" class="form-control input" name="description" id="description" placeholder="Write something about the deal...">@Model.description</textarea>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-12 col-sm-3 col-form-label text-sm-right">Value</label>
            <div class="col-12 col-sm-8 col-lg-6">
                <input type="number" required="" min="0" name="value" id="value" class="form-control input" value="@Model.value">
            </div>
        </div>
        <div class="form-group row">
            <label class="col-12 col-sm-3 col-form-label text-sm-right">Closing probability (%)</label>
            <div class="col-12 col-sm-8 col-lg-6">
                <input type="number" required="" name="closing_probability" min="0" id="closing_probability" class="form-control input" value="@Model.closing_probability">
            </div>
        </div>
        <div class="form-group row">
            <label class="col-12 col-sm-3 col-form-label text-sm-right">Expected Closing</label>
            <div class="col-12 col-sm-8 col-lg-6">
                <input type="date" required="" name="expected_closing" id="expected_closing" class="form-control input" min="@Model.expected_closing.ToString("yyyy-MM-dd")" value="@Model.expected_closing.ToString("yyyy-MM-dd")">
            </div>
        </div>

        <div class="form-group row">
            <label class="col-12 col-sm-3 col-form-label text-sm-right">Promo code</label>
            <div class="col-12 col-sm-8 col-lg-6">
                <select class="form-control form-control-sm input" name="promo_code" id="promo_code" required>
                    <option>None</option>
                    @foreach (var promo in promotions)
                    {
                        <option value="@promo.code">@promo.code</option>
                    }
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-12 col-sm-3 col-form-label text-sm-right">Customer</label>
            <div class="col-12 col-sm-8 col-lg-6">
                <select class="form-control form-control-sm input" name="customer_id" id="customer_id" required>
                    @foreach (var customer in customers)
                    {
                        <option value="@customer.ID">@customer.name</option>
                    }
                </select>
            </div>
        </div>

    </form>